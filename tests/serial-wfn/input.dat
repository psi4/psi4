#! A simple mp2/cc-pvdz water calculation. The resulting wavefunction is written to a file, and then a new wavefunction is generated from that file. The  member variables of both wavefunctions should be identical in value

memory 40 gb

molecule mol {
0 1
O 0.0 0.0 0.0
H 1.0 0.0 0.0
H -.7 0.7 0.0
}

set {
    basis cc-pvdz
    guess sad
}

# get wavefunction
e, wfn_old = energy('hf', return_wfn=True)

# write to wavefunction to ile
Wavefunction.to_file(wfn_old, 'my_wfn')

# read wavefunction from file
wfn_new = Wavefunction.from_file('my_wfn')

compare_wavefunctions(wfn_old, wfn_new, 'Serialization Check')



